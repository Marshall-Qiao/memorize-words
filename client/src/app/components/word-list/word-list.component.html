<div class="word-list-container">
  <h1>ðŸ“š Word Management</h1>

  <!-- Add Word Section -->
  <mat-card class="add-word-card">
    <mat-card-header>
      <mat-card-title>Add New Words</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="add-word-form">
        <mat-form-field appearance="outline" class="word-input">
          <mat-label>Enter a word</mat-label>
          <input matInput [(ngModel)]="newWord" (keyup.enter)="addWord()" placeholder="Type a word here...">
        </mat-form-field>
        <button mat-raised-button color="primary" (click)="addWord()" [disabled]="!newWord.trim()">
          <mat-icon>add</mat-icon>
          Add Word
        </button>
        <button mat-button (click)="addWordsFromText()">
          <mat-icon>text_fields</mat-icon>
          Add Multiple Words
        </button>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Search and Controls -->
  <mat-card class="controls-card">
    <mat-card-content>
      <div class="controls-row">
        <mat-form-field appearance="outline" class="search-input">
          <mat-label>Search words</mat-label>
          <input matInput [(ngModel)]="searchQuery" (input)="searchWords()" placeholder="Type to search...">
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
        
        <mat-form-field appearance="outline" class="accent-select">
          <mat-label>Accent</mat-label>
          <select matNativeControl [(ngModel)]="accent">
            <option value="us">US English</option>
            <option value="uk">UK English</option>
          </select>
        </mat-form-field>

        <mat-form-field appearance="outline" class="speed-input">
          <mat-label>Speed</mat-label>
          <input matInput type="number" [(ngModel)]="speed" min="0.5" max="2" step="0.1">
        </mat-form-field>
      </div>

      <div class="selection-controls">
        <button mat-button (click)="selectAllWords()">
          <mat-icon>select_all</mat-icon>
          Select All
        </button>
        <button mat-button (click)="clearSelection()">
          <mat-icon>clear</mat-icon>
          Clear Selection
        </button>
        <span class="selection-count">{{ selectedWords.length }} selected</span>
        <button mat-raised-button color="accent" (click)="startTraining()" [disabled]="selectedWords.length === 0">
          <mat-icon>play_arrow</mat-icon>
          Start Training
        </button>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Word List -->
  <mat-card class="word-list-card">
    <mat-card-header>
      <mat-card-title>
        Words ({{ filteredWords.length }})
        <mat-spinner *ngIf="loading" diameter="20" class="loading-spinner"></mat-spinner>
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div *ngIf="loading" class="loading-message">
        <mat-spinner></mat-spinner>
        <p>Loading words...</p>
      </div>

      <div *ngIf="!loading && filteredWords.length === 0" class="no-words">
        <mat-icon>library_books</mat-icon>
        <p>No words found</p>
        <p>Add some words to get started!</p>
      </div>

      <mat-list *ngIf="!loading && filteredWords.length > 0" class="word-list">
        <mat-list-item *ngFor="let word of filteredWords" class="word-item">
          <mat-checkbox 
            [checked]="isWordSelected(word.id)" 
            (change)="toggleWordSelection(word.id)"
            class="word-checkbox">
          </mat-checkbox>
          
          <div class="word-content">
            <div class="word-name">{{ word.word }}</div>
            <div class="word-meta">
              <span *ngIf="word.pronunciation_us" class="pronunciation">US: {{ word.pronunciation_us }}</span>
              <span *ngIf="word.pronunciation_uk" class="pronunciation">UK: {{ word.pronunciation_uk }}</span>
              <span class="created-date">Added: {{ word.created_at | date:'short' }}</span>
            </div>
          </div>

          <div class="word-actions">
            <button mat-icon-button (click)="playWord(word)" [title]="'Play pronunciation (' + accent.toUpperCase() + ')'">
              <mat-icon>volume_up</mat-icon>
            </button>
            <button mat-icon-button (click)="deleteWord(word)" [title]="'Delete word'">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>
</div>